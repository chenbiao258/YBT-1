<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sinosoft.service.business.db.dao.RePrintApplyDao">
	<resultMap id="BaseResultMap"
		type="com.sinosoft.service.business.db.vo.RePrintApplyVo">
		<id column="id" jdbcType="VARCHAR" property="id" />
		<result column="insur_code" jdbcType="VARCHAR" property="insureCom" />
		<result column="cust_name" jdbcType="VARCHAR" property="custName" />
		<result column="prt_no" jdbcType="VARCHAR" property="prtNo" />
		<result column="cont_no" jdbcType="VARCHAR" property="contNo" />
		<result column="sum_prem" jdbcType="VARCHAR" property="sumPrem" />
		<result column="sum_amnt" jdbcType="VARCHAR" property="sumAmnt" />
	</resultMap>

	<select id="queryByContNo1" parameterType="com.sinosoft.service.business.db.vo.RePrintApplyVo"
		resultMap="BaseResultMap">
		SELECT 
			a.uid as id,cust_name,prt_no,cont_no,sum_prem,sum_amnt
		FROM
			 t_bs_cont a,t_bs_cont_appl b,t_bs_cust c
		WHERE 
			a.uid=b.cont_id AND b.cust_id=c.uid 
	</select>
	
	<select id="queryByContNo" parameterType="com.sinosoft.service.business.db.vo.RePrintApplyVo"
		resultMap="BaseResultMap">
		SELECT 
			a.uid as id,cust_name,prt_no,cont_no,sum_prem,sum_amnt
		FROM
			 t_bs_cont a,t_bs_cont_appl b,t_bs_cust c
		WHERE 
			a.uid=b.cont_id AND b.cust_id=c.uid 
		  <if test="prtNo != null">
	        AND prt_no = #{prtNo}
	      </if>
	      <if test="contNo != null">
	        AND cont_no = #{contNo}
	      </if>
	      <if test="insureCom != null">
	        AND insur_code = #{insureCom}
	      </if>
	</select>
	
</mapper>
