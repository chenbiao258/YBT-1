<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sinosoft.service.business.db.dao.LdcodeDao">
	<resultMap id="BaseResultMap" type="com.sinosoft.service.business.db.vo.LdcodeVo">
    <id column="code" jdbcType="VARCHAR" property="code" />
    <result column="codetype" jdbcType="VARCHAR" property="codetype" />
    <result column="codename" jdbcType="VARCHAR" property="codename" />
    <result column="codealias" jdbcType="VARCHAR" property="codealias" />
    <result column="comcode" jdbcType="VARCHAR" property="comcode" />
    <result column="othersign" jdbcType="VARCHAR" property="othersign" />
  </resultMap>
  <sql id="Base_Column_List">
    code,codetype,codename,codealias,comcode,othersign
  </sql>
  
  <select id="SelectByCodetype" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultMap="BaseResultMap">
  	select
		<include refid="Base_Column_List" /> 
		from ldcode
		where 1=1
	  <if test="codetype != null">
      and  codetype= #{codetype,jdbcType=VARCHAR}
      </if>
      <if test="code != null">
      and  code= #{code,jdbcType=VARCHAR}
      </if>
      <if test="codealias != null">
      and  codealias = #{codealias,jdbcType=VARCHAR}
      </if>
  </select>
  
  <select id="SelectByCodetypeSize" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultType="java.lang.String">
  	select max(code)as code  from ldcode where 1=1
  	 <if test="codetype != null">
      and  codetype= #{codetype,jdbcType=VARCHAR}
      </if>
  </select>
  <insert id="inserts" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo">
   insert into ldcode(codetype,code,codename) values('laqualiinfo',#{code},#{codename})
  </insert>
  
  
  
  <select id="selectLdcodeByType" parameterType="String" resultMap="BaseResultMap">
   select<include refid="Base_Column_List" /> from ldcode where 1 = 1 and codetype = #{codetype,jdbcType=VARCHAR} order by Code
 </select>
 
  <select id="selecttraining" resultType="com.sinosoft.service.business.db.vo.LatrainingVo">
  select distinct(t.coursetitle) as coursetitle from latraining t
 </select>
 
   <select id="selectldcode" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultMap="BaseResultMap">
   select<include refid="Base_Column_List" /> from ldcode 
   where 1 = 1 and codetype = #{codetype,jdbcType=VARCHAR} and code=#{code,jdbcType=VARCHAR}
 </select>
  <select id="selectByParam" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultMap="BaseResultMap">
   select<include refid="Base_Column_List" /> from ldcode where 1 = 1 and codetype = #{codetype,jdbcType=VARCHAR} order by Code
 </select>
 
 <select id="selectBylower" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultMap="BaseResultMap">
  select <include refid="Base_Column_List" /> from ldcode where lower(codetype)=#{codetype,jdbcType=VARCHAR}
 </select>
  
  <select id="select" resultMap="BaseResultMap">
  	select * from t_sys_user
  </select>

 
  <select id="queryByUserCode" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" /> 
		from t_sys_user
		where "user_code" = #{userCode} 
	   		 
	</select>
	
	<select id="queryByUserCodeAndName" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" /> 
		from t_sys_user
		where "user_code" = #{userCode} and "user_name" = #{userName}
	    
	</select>
	
	<select id="queryList11" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" /> 
		from t_sys_user
		where 1=1
		
	    <if test="userCode != null">
	        and "user_code" = #{userCode}
	   	</if>    
		<if test="userName != null">
	        and "user_name" = #{userName}
	   	</if>
	</select>
	
	<select id="selectUidList" resultType="java.lang.String">
  		select "uid" from t_sys_user
  	</select>
  	
  	<insert id="insert" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo">
  	 insert into ldcode(codetype,code,codename,codealias) values(#{codetype},#{code},#{codename},#{codealias})
   </insert>
   
   	<insert id="inserttype" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo">
  	 insert into ldcode(codetype,code,codename) values(#{codetype},#{code},#{codename})
   </insert>
	 
<delete id="delete" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo">
 delete from ldcode where  codetype= #{codetype,jdbcType=VARCHAR} and  code= #{code,jdbcType=VARCHAR}
</delete>
	 
	 
	<update id="update" parameterType="com.sinosoft.service.business.db.vo.LdcodeVo">
     update ldcode
    <set>
      <if test="codename != null">
        codename= #{codename,jdbcType=VARCHAR}
      </if>

    </set>
    where codetype= #{codetype,jdbcType=VARCHAR} and code= #{code,jdbcType=VARCHAR}
  </update>	 
	 
</mapper>